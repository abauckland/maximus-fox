var p = $('table#<%=@specline.id%>').children('tbody').children('tr.specline_row, tr.new_specline_row').children('td.specline_link');
var position = p.offset();

var p_top = position.top

$('body').after('<%= escape_javascript(render :partial => 'edit', :locals => {:specline => @specline, :linetypes => @linetypes}) %>');

$('#linetype_menu').css({top: p_top});

$('div#linetype_menu').hover(function (){
  $('table#<%=@specline.id%>').children('tbody').children('tr.specline_row, tr.new_specline_row').css('background-color', '#efefef');
    },
  function (){
  $('table#<%=@specline.id%>').children('tbody').children('tr.specline_row, tr.new_specline_row').css('background-color', '#fff');
});

$('span.button').click(function (){
  $(this).parents('form:first').submit();
  $('div#linetype_menu').remove();
  $('table#<%=@specline.id%>').children('tbody').children('tr.specline_row, tr.new_specline_row').css('background-color', '#fff');
     return false;
});

$('tr.specline_row').mouseenter(function (){
  $('div#linetype_menu').remove();
});
