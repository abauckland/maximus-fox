$('table#<%=@specline.id%>').after('<%= escape_javascript(render :partial => 'specline_new', :locals => {:new_specline => @new_specline}) %>');


	$('.specline_table').hover(function(){
		$(this).css('background-color', '#efefef');
		$(this).find('td.prefixed_line_menu').css('visibility', 'visible');
		$(this).find('td.suffixed_line_menu').css('visibility', 'visible');
		$(this).find('td.suffixed_line_menu_mob').css('visibility', 'visible');
	},
	function (){
  		$(this).css('background-color', '#fff');
		$(this).find('td.prefixed_line_menu').css('visibility', 'hidden');
		$(this).find('td.suffixed_line_menu').css('visibility', 'hidden');
		$(this).find('td.suffixed_line_menu_mob').css('visibility', 'hidden')
  	});

	$('.suffixed_line_menu_mob').off('click');
	$('.suffixed_line_menu_mob').click(function (){
		$(this).closest('table').find('.specline_mob_menu_popup').toggle();
	});
 
	$('tr.specline_mob_menu_popup').mouseleave(function (){
		$(this).hide();
	});


$('.editable_text3').mouseover(function(){
var spec_id = $(this).attr('id');
$(this).editable('/speclines/'+spec_id+'/update_specline_3', {id: spec_id, type: 'text', onblur: 'submit', method: 'PUT', indicator: 'Saving..', submitdata: {_method: 'put', 'id': '<%= @line.id%>', authenticity_token: AUTH_TOKEN}});    
}); 
$('.editable_text4').mouseover(function(){
var spec_id = $(this).attr('id');
var text_width = $(this).width();
$(this).editable('/speclines/'+spec_id+'/update_specline_4', {id: spec_id, width: text_width, type: 'autogrow', onblur: 'submit', method: 'PUT', indicator: 'Saving..', autogrow : {lineHeight : 16, maxHeight  : 512}, submitdata: {_method: 'put', 'id': '<%= @line.id%>', authenticity_token: AUTH_TOKEN}});    
}); 
$('.editable_text5').mouseover(function(){
var spec_id = $(this).attr('id');
$(this).editable('/speclines/'+spec_id+'/update_specline_5', {id: spec_id, type: 'autogrow', onblur: 'submit', method: 'PUT', indicator: 'Saving..', autogrow : {lineHeight : 16, maxHeight  : 512}, submitdata: {_method: 'put', 'id': '<%= @line.id%>', authenticity_token: AUTH_TOKEN}});    
});    
$('.editable_text6').mouseover(function(){
var spec_id = $(this).attr('id');
$(this).editable('/speclines/'+spec_id+'/update_specline_6', {id: spec_id, type: 'text', onblur: 'submit', method: 'PUT', indicator: 'Saving..', submitdata: {_method: 'put', 'id': '<%= @line.id%>', authenticity_token: AUTH_TOKEN}});    
});    
 

$('table#<%=@new_specline.id%> a.delete').deleteWithAjax();
$('table#<%=@new_specline.id%> a.put').putWithAjax();
$('table#<%=@new_specline.id%> a.get').getWithAjax();
$('table#<%=@new_specline.id%> a.post').postWithAjax();


<% if @subsequent_prefixes %>
	<% @subsequent_prefixes.each_with_index do |sub_prefix, i|	%>
		$('table#<%=sub_prefix[0]%> tr td.text_prefix').html('<%=sub_prefix[1]%>');
	<% end %>
<% end %>





